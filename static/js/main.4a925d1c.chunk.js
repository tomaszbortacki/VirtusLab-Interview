(this.webpackJsonpvirtuslab=this.webpackJsonpvirtuslab||[]).push([[0],{30:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(21),s=c.n(r),i=c(4),j=c.n(i),o=c(7),l=c(9),b=c(3),u=(c(30),c(55)),O="https://swapi.dev/api/",h=c(22),d=c(0),x=function(e){var t=e.zoom,c=void 0===t?1:t;return Object(d.jsx)("div",{className:"loading__wrapper",style:{zoom:c},children:Object(d.jsxs)("div",{className:"loading",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})},p=c(10),f=c.n(p),m=function(e){var t=e.person,c=e.titleBase,a=e.setTitleBase,r=t.name,s=t.birth_year,i=t.gender,u=t.height,O=t.films,p=Object(n.useState)(!1),m=Object(b.a)(p,2),v=m[0],g=m[1],_=Object(n.useState)([]),k=Object(b.a)(_,2),N=k[0],S=k[1],w=Object(n.useState)(!0),y=Object(b.a)(w,2),B=y[0],z=y[1],C=Object(n.useState)(!1),E=Object(b.a)(C,2),J=E[0],T=E[1],U=function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J&&!v){e.next=2;break}return e.abrupt("return");case 2:t=Object(h.a)(O),e.prev=3,r=j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.value,!(r=c.reduce((function(e,c){var n=c.apiUrl,a=c.name;return n===t?a:e}),""))){e.next=6;break}S((function(e){return[].concat(Object(o.a)(e),[r])})),e.next=8;break;case 6:return e.next=8,f.a.get(t).then((function(e){var c=e.data.title;a((function(e){return[].concat(Object(o.a)(e),[{apiUrl:t,name:c}])})),S((function(e){return[].concat(Object(o.a)(e),[c])}))})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})),t.s();case 6:if((n=t.n()).done){e.next=10;break}return e.delegateYield(r(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),t.e(e.t1);case 15:return e.prev=15,t.f(),e.finish(15);case 18:T(!0),z(!1);case 20:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("section",{className:v?"person person--active":"person",children:[Object(d.jsxs)("ul",{className:"person__basics",onClick:function(){g(!v),U()},children:[Object(d.jsxs)("li",{title:r,children:[Object(d.jsx)("span",{children:"Name:"}),r]}),Object(d.jsxs)("li",{title:s,children:[Object(d.jsx)("span",{children:"Birth year"}),s]}),Object(d.jsxs)("li",{title:i,children:[Object(d.jsx)("span",{children:"Gender:"}),i]}),Object(d.jsx)("li",{children:Object(d.jsx)("div",{children:"\ud83e\udc7b"})})]}),Object(d.jsx)("section",{className:"person__more",children:Object(d.jsxs)("section",{className:"person__desc",children:[Object(d.jsxs)("h3",{children:["Age: ",s.replace("BBY","")]}),Object(d.jsxs)("h3",{children:["Height: ",u,"cm"]}),Object(d.jsxs)("h3",{children:["Films:",B?Object(d.jsx)(x,{zoom:.4}):""]}),Object(d.jsx)("ul",{children:N?N.map((function(e,t){return Object(d.jsx)("li",{children:e},t)})):""})]})})]})};var v=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(1),s=Object(b.a)(r,2),i=s[0],h=s[1],p=Object(n.useState)([]),v=Object(b.a)(p,2),g=v[0],_=v[1],k=Object(n.useState)(!0),N=Object(b.a)(k,2),S=N[0],w=N[1],y=Object(n.useState)([]),B=Object(b.a)(y,2),z=B[0],C=B[1],E=function(){var e=Object(l.a)(j.a.mark((function e(){var t,c,n=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:10,c=i;case 2:if(!(c<i+t)){e.next=8;break}return e.next=5,f.a.get("".concat(O,"people/").concat(c,"/")).then((function(e){var t=e.data,c={name:t.name,birth_year:t.birth_year,gender:t.gender,height:t.height,films:t.films};_((function(e){return[].concat(Object(o.a)(e),[c])})),a(!1)})).catch((function(e){a(!0),console.error(e)}));case 5:c++,e.next=2;break;case 8:h(i+t),w(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E()}),[]),Object(d.jsx)("section",{className:"main",children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)("section",{className:"main__top",children:Object(d.jsx)("h1",{children:"Star Wars Challenge"})}),Object(d.jsxs)("section",{className:"main__list",children:[g?g.map((function(e,t){return Object(d.jsx)(m,{person:e,titleBase:z,setTitleBase:C},t)})):"",S?Object(d.jsx)(x,{}):""]}),Object(d.jsx)("section",{className:"main__bottom",children:c?"":Object(d.jsx)("button",{onClick:function(){w(!0),E(5)},children:Object(d.jsx)("span",{children:"Load more (5)"})})})]})})};c(49);c(50).config(),s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.4a925d1c.chunk.js.map