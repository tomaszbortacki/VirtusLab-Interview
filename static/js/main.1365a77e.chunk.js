(this.webpackJsonpvirtuslab=this.webpackJsonpvirtuslab||[]).push([[0],{34:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(13),s=n.n(a),i=n(4),o=n.n(i),u=n(8),j=n(5),l=(n(34),n(63)),b=n(7),h=n(14),p=n.n(h),O=n(1),d=function(e){var t=e.zoom,n=void 0===t?1:t;return Object(O.jsx)("div",{className:"loading__wrapper",style:{zoom:n},children:Object(O.jsxs)("div",{className:"loading",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})})},f=n(26),v=n(10),x=function(e){var t=e.age,n=e.height,r=e.films,a=Object(b.c)((function(e){return e.movies})),s=Object(c.useState)([]),i=Object(j.a)(s,2),l=i[0],h=i[1],x=Object(c.useState)(!0),m=Object(j.a)(x,2),w=m[0],g=m[1],_=Object(b.b)(),y=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",a.length>0&&(n=a.reduce((function(e,n){return n.path===t?n.name:e}),"")),!n){e.next=6;break}h((function(e){return[].concat(Object(v.a)(e),[n])})),e.next=8;break;case 6:return e.next=8,p.a.get(t.replace("http:",window.location.protocol)).then((function(e){return e.data})).then((function(e){var t=e.title;_({type:"ADD_MOVIE",payloads:{movie:{path:e.url,name:e.title}}}),h((function(e){return[].concat(Object(v.a)(e),[t])}))})).then((function(){})).catch((function(e){return console.error(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,r,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.length>0&&void 0!==a[0]?a[0]:[])){e.next=19;break}n=Object(f.a)(t),e.prev=3,n.s();case 5:if((c=n.n()).done){e.next=11;break}return r=c.value,e.next=9,y(r);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:g(!1);case 20:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){k(r)}),[]),Object(O.jsx)("section",{className:"person__more",children:Object(O.jsxs)("section",{className:"person__desc",children:[Object(O.jsxs)("h3",{children:["Age: ",t]}),Object(O.jsxs)("h3",{children:["Height: ",n]}),Object(O.jsxs)("h3",{children:["Films: ",w?Object(O.jsx)(d,{zoom:.4}):""]}),Object(O.jsx)("ul",{children:l?l.map((function(e,t){return Object(O.jsx)("li",{children:e},t)})):""})]})})},m=function(e){var t=e.person,n=t.name,r=t.birth_year,a=t.gender,s=t.height,i=t.films,o=Object(c.useState)(!1),u=Object(j.a)(o,2),l=u[0],b=u[1],h=Object(c.useState)(!1),p=Object(j.a)(h,2),d=p[0],f=p[1];return Object(O.jsxs)("section",{className:l?"person person--active":"person",children:[Object(O.jsxs)("ul",{className:"person__basics",onClick:function(){b(!l),f(!0)},children:[Object(O.jsxs)("li",{title:n,children:[Object(O.jsx)("span",{children:"Name:"}),n]}),Object(O.jsxs)("li",{title:r,children:[Object(O.jsx)("span",{children:"Birth year"}),r]}),Object(O.jsxs)("li",{title:a,children:[Object(O.jsx)("span",{children:"Gender:"}),a]}),Object(O.jsx)("li",{children:Object(O.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512.171 512.171",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M479.046,283.925c-1.664-3.989-5.547-6.592-9.856-6.592H352.305V10.667C352.305,4.779,347.526,0,341.638,0H170.971\r c-5.888,0-10.667,4.779-10.667,10.667v266.667H42.971c-4.309,0-8.192,2.603-9.856,6.571c-1.643,3.989-0.747,8.576,2.304,11.627\r l212.8,213.504c2.005,2.005,4.715,3.136,7.552,3.136s5.547-1.131,7.552-3.115l213.419-213.504\r C479.793,292.501,480.71,287.915,479.046,283.925z"})})})})]}),d?Object(O.jsx)(x,{age:r.replace("BBY",""),height:"".concat(s,"cm"),films:i}):""]})};var w=function(){var e=Object(c.useState)(!0),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(j.a)(a,2),i=s[0],h=s[1],f=Object(c.useState)(1),v=Object(j.a)(f,2),x=v[0],w=v[1],g=Object(c.useState)(!1),_=Object(j.a)(g,2),y=_[0],k=_[1],E=Object(b.c)((function(e){return e.people})),N=Object(b.b)(),S=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat("https://swapi.dev/api/","people/").concat(t,"/")).then((function(e){return e.data})).then((function(e){N({type:"ADD_PERSON",payloads:{person:e}}),h(!1)})).catch((function(e){console.error(e),h(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:10,!i){e.next=3;break}return e.abrupt("return");case 3:r(!0),c=n=x;case 6:if(!(c<n+t)){e.next=12;break}return e.next=9,S(c);case 9:c++,e.next=6;break;case 12:w(x+t),r(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){D()}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Math.ceil(window.pageYOffset+window.innerHeight),n=Math.ceil(document.documentElement.scrollHeight),!(t>=n)||y){e.next=7;break}return k(!0),e.next=6,D(5);case 6:k(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("wheel",e),window.addEventListener("touchmove",e),function(){window.removeEventListener("wheel",e),window.removeEventListener("touchmove",e)}}),[x,y]),Object(O.jsx)("section",{className:"main",children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)("section",{className:"main__top",children:Object(O.jsx)("h1",{children:"Star Wars Challenge"})}),Object(O.jsxs)("section",{className:"main__list",children:[E?E.map((function(e,t){return Object(O.jsx)(m,{person:e},t)})):"",n?Object(O.jsx)(d,{}):""]})]})})},g=(n(60),n(28)),_=n(12),y={people:[],movies:[]},k=Object(g.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PERSON":var n=t.payloads.person,c=n.name,r=n.birth_year,a=n.gender,s=n.height,i=n.films;return Object(_.a)(Object(_.a)({},e),{},{people:[].concat(Object(v.a)(e.people),[{name:c,birth_year:r,gender:a,height:s,films:i}])});case"ADD_MOVIE":var o=t.payloads.movie,u=o.path,j=o.name;return Object(_.a)(Object(_.a)({},e),{},{movies:[].concat(Object(v.a)(e.movies),[{path:u,name:j}])});default:return e}}));s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(b.a,{store:k,children:Object(O.jsx)(w,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.1365a77e.chunk.js.map