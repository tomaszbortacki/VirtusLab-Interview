(this.webpackJsonpvirtuslab=this.webpackJsonpvirtuslab||[]).push([[0],{36:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),s=n.n(a),i=n(8),o=n.n(i),j=n(13),l=n(5),u=(n(36),n(65)),b=n(6),h=n(15),O=n.n(h),d=n(1),p=function(e){var t=e.zoom,n=void 0===t?1:t;return Object(d.jsx)("div",{className:"loading__wrapper",style:{zoom:n},children:Object(d.jsxs)("div",{className:"loading",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})},f=n(29),m=n(9),x=function(e){var t=e.age,n=e.height,r=e.films,a=Object(b.c)((function(e){return e.movies})),s=Object(c.useState)([]),i=Object(l.a)(s,2),u=i[0],h=i[1],x=Object(c.useState)(!0),v=Object(l.a)(x,2),g=v[0],_=v[1],y=Object(b.b)(),N=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t="";(a.length>0&&(_(!1),t=a.reduce((function(t,n){return n.path===e?n.name:t}),"")),t)?h((function(e){return[].concat(Object(m.a)(e),[t])})):N(e).then((function(e){var t=e.title;y({type:"ADD_MOVIE",payloads:{movie:{path:e.url,name:e.title}}}),h((function(e){return[].concat(Object(m.a)(e),[t])}))})).then((function(){_(!1)})).catch((function(e){return console.log(e)}))};return Object(c.useEffect)((function(){var e,t=Object(f.a)(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;S(n)}}catch(c){t.e(c)}finally{t.f()}}),[]),Object(d.jsx)("section",{className:"person__more",children:Object(d.jsxs)("section",{className:"person__desc",children:[Object(d.jsxs)("h3",{children:["Age: ",t]}),Object(d.jsxs)("h3",{children:["Height: ",n]}),Object(d.jsxs)("h3",{children:["Films: ",g?Object(d.jsx)(p,{zoom:.4}):""]}),Object(d.jsx)("ul",{children:u?u.map((function(e,t){return Object(d.jsx)("li",{children:e},t)})):""})]})})},v=function(e){var t=e.person,n=t.name,r=t.birth_year,a=t.gender,s=t.height,i=t.films,o=Object(c.useState)(!1),j=Object(l.a)(o,2),u=j[0],b=j[1],h=Object(c.useState)(!1),O=Object(l.a)(h,2),p=O[0],f=O[1];return Object(d.jsxs)("section",{className:u?"person person--active":"person",children:[Object(d.jsxs)("ul",{className:"person__basics",onClick:function(){b(!u),f(!0)},children:[Object(d.jsxs)("li",{title:n,children:[Object(d.jsx)("span",{children:"Name:"}),n]}),Object(d.jsxs)("li",{title:r,children:[Object(d.jsx)("span",{children:"Birth year"}),r]}),Object(d.jsxs)("li",{title:a,children:[Object(d.jsx)("span",{children:"Gender:"}),a]}),Object(d.jsx)("li",{children:Object(d.jsx)("div",{children:"\ud83e\udc7b"})})]}),p?Object(d.jsx)(x,{age:r.replace("BBY",""),height:"".concat(s,"cm"),films:i}):""]})};var g=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(l.a)(a,2),i=s[0],h=s[1],f=Object(b.c)((function(e){return e.people})),m=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat("https://swapi.dev/api/","people/").concat(t,"/")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(b.b)(),g=function(e){m(e).then((function(e){x({type:"ADD_PERSON",payloads:{person:e}}),h(!1)})).then((function(){r(!1)})).catch((function(e){console.log(e),r(!1),h(!0)}))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;r(!0);for(var t=f.length+1;t<f.length+e+1;t++)g(t)};return Object(c.useEffect)((function(){_()}),[]),Object(d.jsx)("section",{className:"main",children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)("section",{className:"main__top",children:Object(d.jsx)("h1",{children:"Star Wars Challenge"})}),Object(d.jsxs)("section",{className:"main__list",children:[f?f.map((function(e,t){return Object(d.jsx)(v,{person:e},t)})):"",n?Object(d.jsx)(p,{}):""]}),Object(d.jsx)("section",{className:"main__bottom",children:i?"":Object(d.jsx)("button",{onClick:function(){_(5)},children:Object(d.jsx)("span",{children:"Load more (5)"})})})]})})},_=(n(62),n(14)),y=n(11),N={people:[],movies:[]},S=Object(_.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PERSON":var n=t.payloads.person,c=n.name,r=n.birth_year,a=n.gender,s=n.height,i=n.films;return Object(y.a)(Object(y.a)({},e),{},{people:[].concat(Object(m.a)(e.people),[{name:c,birth_year:r,gender:a,height:s,films:i}])});case"ADD_MOVIE":var o=t.payloads.movie,j=o.path,l=o.name;return Object(y.a)(Object(y.a)({},e),{},{movies:[].concat(Object(m.a)(e.movies),[{path:j,name:l}])});default:return e}}));s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(b.a,{store:S,children:Object(d.jsx)(g,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.ded512af.chunk.js.map